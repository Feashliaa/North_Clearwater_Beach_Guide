<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>North Clearwater Beach ‚Äî Park Guide</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
  <link
    href="https://fonts.googleapis.com/css2?family=Pacifico&family=Fredoka+One&family=Nunito:wght@400;600;700;800&display=swap"
    rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --dining: #e8473f;
      --attract: #1aaa8e;
      --nature: #3aaf5c;
      --nightlife: #5b3fa0;
      --shopping: #d4780c;
      --hotels: #0d7ec5;
      --services: #5e7c8b;
      --bg: #f0f8ff;
      --panel: #1b3d6e;
      --sky: #4bbde8;
    }

    html,
    body {
      height: 100%;
      font-family: 'Nunito', sans-serif;
      background: var(--bg);
    }

    /* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
    .header {
      background: linear-gradient(135deg, #0a2e5a 0%, #1b3d6e 50%, #0e5a8a 100%);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 22px;
      gap: 16px;
      border-bottom: 4px solid #f7b731;
      position: relative;
      overflow: hidden;
    }

    .header::before {
      content: 'üå¥ üåä üå¥ üåä üå¥ üåä üå¥ üåä üå¥ üåä üå¥ üåä';
      position: absolute;
      top: 4px;
      left: 0;
      right: 0;
      text-align: center;
      font-size: 11px;
      opacity: 0.2;
      letter-spacing: 4px;
    }

    .header-logo {
      text-align: left;
      flex-shrink: 0;
    }

    .header-logo .title {
      font-family: 'Pacifico', cursive;
      font-size: 30px;
      color: #fff;
      text-shadow: 2px 3px 0 rgba(0, 0, 0, 0.3);
      line-height: 1;
    }

    .header-logo .subtitle {
      font-family: 'Fredoka One', cursive;
      font-size: 12px;
      color: #f7b731;
      letter-spacing: 3px;
      text-transform: uppercase;
      margin-top: 2px;
    }

    .header-pills {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      justify-content: center;
      flex: 1;
    }

    .hpill {
      display: flex;
      align-items: center;
      gap: 5px;
      padding: 4px 12px;
      border-radius: 20px;
      font-family: 'Fredoka One', cursive;
      font-size: 12px;
      color: #fff;
      white-space: nowrap;
    }

    .hpill-dining {
      background: var(--dining);
    }

    .hpill-attract {
      background: var(--attract);
    }

    .hpill-nature {
      background: var(--nature);
    }

    .hpill-nightlife {
      background: var(--nightlife);
    }

    .hpill-shopping {
      background: var(--shopping);
    }

    .hpill-hotels {
      background: var(--hotels);
    }

    .hpill-services {
      background: var(--services);
    }

    .header-badge {
      background: rgba(255, 255, 255, 0.12);
      border: 1.5px solid rgba(255, 255, 255, 0.4);
      border-radius: 8px;
      padding: 8px 14px;
      text-align: center;
      flex-shrink: 0;
    }

    .header-badge .b1 {
      font-family: 'Fredoka One', cursive;
      font-size: 11px;
      color: #f7b731;
      letter-spacing: 1px;
      text-transform: uppercase;
    }

    .header-badge .b2 {
      font-size: 11px;
      color: rgba(255, 255, 255, 0.8);
      font-weight: 700;
    }

    /* ‚îÄ‚îÄ MAIN LAYOUT ‚îÄ‚îÄ */
    .main {
      display: flex;
      height: calc(100vh - 70px);
    }

    /* ‚îÄ‚îÄ MAP ‚îÄ‚îÄ */
    #map {
      flex: 1 1 60%;
      min-width: 0;
      position: relative;
    }

    /* ‚îÄ‚îÄ LEGEND PANEL ‚îÄ‚îÄ */
    .legend {
      flex: 0 0 430px;
      background: #f8f3ea;
      overflow-y: auto;
      border-left: 3px solid #ddd;
      display: flex;
      flex-direction: column;
    }

    .legend-inner {
      padding: 12px 14px 20px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      align-content: start;
    }

    /* Category block */
    .cat-block {
      background: #fff;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      break-inside: avoid;
    }

    /* Some blocks span full width */
    .cat-block.wide {
      grid-column: span 2;
    }

    .cat-header {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      color: #fff;
      font-family: 'Fredoka One', cursive;
      font-size: 14px;
      letter-spacing: 0.5px;
    }

    .cat-header .cat-icon {
      font-size: 16px;
    }

    .cat-header.dining {
      background: var(--dining);
    }

    .cat-header.attract {
      background: var(--attract);
    }

    .cat-header.nature {
      background: var(--nature);
    }

    .cat-header.nightlife {
      background: var(--nightlife);
    }

    .cat-header.shopping {
      background: var(--shopping);
    }

    .cat-header.hotels {
      background: var(--hotels);
    }

    .cat-header.services {
      background: var(--services);
    }

    .cat-list {
      list-style: none;
      padding: 6px 10px 8px;
    }

    .cat-list li {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      padding: 4px 0;
      font-size: 12px;
      color: #333;
      line-height: 1.35;
      border-bottom: 1px solid #f0f0f0;
      cursor: pointer;
      transition: background 0.15s;
      border-radius: 4px;
      padding-left: 4px;
    }

    .cat-list li:last-child {
      border-bottom: none;
    }

    .cat-list li:hover {
      background: #f5f5f5;
    }

    .num-badge {
      flex-shrink: 0;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Fredoka One', cursive;
      font-size: 11px;
      color: #fff;
      margin-top: 1px;
    }

    .num-badge.dining {
      background: var(--dining);
    }

    .num-badge.attract {
      background: var(--attract);
    }

    .num-badge.nature {
      background: var(--nature);
    }

    .num-badge.nightlife {
      background: var(--nightlife);
    }

    .num-badge.shopping {
      background: var(--shopping);
    }

    .num-badge.hotels {
      background: var(--hotels);
    }

    .num-badge.services {
      background: var(--services);
    }

    .poi-name {
      font-weight: 700;
      color: #1a1a1a;
      font-size: 12px;
    }

    .poi-addr {
      font-size: 10px;
      color: #888;
      font-style: italic;
    }


    .popup-inner {
      font-family: 'Nunito', sans-serif;
    }

    .popup-head {
      padding: 10px 14px 8px;
      color: #fff;
    }

    .popup-head .pnum {
      font-family: 'Fredoka One', cursive;
      font-size: 11px;
      opacity: 0.85;
      margin-bottom: 2px;
    }

    .popup-head h3 {
      font-family: 'Fredoka One', cursive;
      font-size: 15px;
      line-height: 1.2;
    }

    .popup-body {
      padding: 8px 14px 10px;
      font-size: 12px;
      color: #444;
      line-height: 1.5;
    }

    .popup-link {
      display: inline-block;
      margin-top: 6px;
      font-size: 11px;
      font-weight: 800;
      text-decoration: none;
      padding: 3px 10px;
      border-radius: 20px;
      color: #fff;
    }

    .popup-head.dining {
      background: var(--dining);
    }

    .popup-head.attract {
      background: var(--attract);
    }

    .popup-head.nature {
      background: var(--nature);
    }

    .popup-head.nightlife {
      background: var(--nightlife);
    }

    .popup-head.shopping {
      background: var(--shopping);
    }

    .popup-head.hotels {
      background: var(--hotels);
    }

    .popup-head.services {
      background: var(--services);
    }

    .popup-link.dining {
      background: var(--dining);
    }

    .popup-link.attract {
      background: var(--attract);
    }

    .popup-link.nature {
      background: var(--nature);
    }

    .popup-link.nightlife {
      background: var(--nightlife);
    }

    .popup-link.shopping {
      background: var(--shopping);
    }

    .popup-link.hotels {
      background: var(--hotels);
    }

    .popup-link.services {
      background: var(--services);
    }

    /* Scrollbar */
    .legend::-webkit-scrollbar {
      width: 6px;
    }

    .legend::-webkit-scrollbar-track {
      background: #f0ebe0;
    }

    .legend::-webkit-scrollbar-thumb {
      background: #c0b090;
      border-radius: 3px;
    }

    /* Leaflet popup custom */
    .custom-popup .leaflet-popup-content-wrapper {
      border-radius: 12px;
      padding: 0;
      overflow: hidden;
      box-shadow: 0 8px 28px rgba(0, 0, 0, 0.2);
      max-width: 240px;
    }

    .custom-popup .leaflet-popup-content {
      margin: 0;
    }

    /* Custom tile layer credit */
    .leaflet-control-attribution {
      font-size: 9px !important;
    }

    /* Highlight on hover from legend */
    .marker-highlight {
      filter: drop-shadow(0 0 6px rgba(255, 220, 0, 0.9));
      z-index: 1000 !important;
    }

    @media (max-width: 900px) {
      .main {
        flex-direction: column;
        height: auto;
      }

      #map {
        flex: none;
        height: 50vh;
      }

      .legend {
        flex: none;
        max-height: 50vh;
      }

      .legend-inner {
        grid-template-columns: 1fr;
      }

      .cat-block.wide {
        grid-column: span 1;
      }

      .header-badge {
        display: none;
      }
    }
  </style>
</head>

<body>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê HEADER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="header">
    <div class="header-logo">
      <div class="title">North Clearwater Beach</div>
      <div class="subtitle">‚ú¶ Interactive Visitor's Guide ‚ú¶</div>
    </div>
    <div class="header-pills">
      <div class="hpill hpill-dining">üçΩÔ∏è Dining</div>
      <div class="hpill hpill-attract">üéØ Attractions</div>
      <div class="hpill hpill-nature">üåø Nature</div>
      <div class="hpill hpill-nightlife">üé∂ Nightlife</div>
      <div class="hpill hpill-shopping">üõçÔ∏è Shopping</div>
      <div class="hpill hpill-hotels">üè® Hotels</div>
      <div class="hpill hpill-services">üîß Services</div>
    </div>
    <div class="header-badge">
      <div class="b1">üìç Clearwater Beach, FL</div>
      <div class="b2">Gulf of Mexico ¬∑ Pinellas County</div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MAIN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="main">
    <div id="map"></div>

    <div class="legend">
      <div class="legend-inner" id="legendInner"></div>
    </div>
  </div>

  <script>
    // ‚îÄ‚îÄ DATA ‚îÄ‚îÄ
    const pois = [
      // DINING
      { id: 1, num: 1, cat: "dining", name: "Frenchy's Rockaway Grill", addr: "7 Rockaway St", desc: "Iconic beachfront spot famous for their grouper sandwich and live music. Grab a seat on the deck for sunset views over the Gulf.", link: "https://www.frenchysonline.com/", lat: 27.98358, lng: -82.82782 },
      { id: 2, num: 2, cat: "dining", name: "Crabby's Beachside Pavilion", addr: "10 Bay Esplanade", desc: "Casual beachside dining with fresh seafood, craft cocktails, and live entertainment. Right on the sand with panoramic Gulf views.", link: "https://crabbysbeachsidepavilion.com/", lat: 27.98516, lng: -82.82775 },
      { id: 16, num: 3, cat: "dining", name: "Flipside Pizza", addr: "455 E Shore Dr", desc: "Handcrafted pizzas and bold grinders. Local beers, organic wines, and sunny cocktails at the Marina at Courtyard Clearwater Beach.", link: "https://eatflipsidepizza.com/", lat: 27.98036, lng: -82.82540 },
      { id: 17, num: 4, cat: "dining", name: "Soul Mediterranean Cuisine", addr: "486 Poinsettia Ave", desc: "Comfy eatery serving branzino and other Mediterranean fare in a warm, welcoming setting.", link: "https://soulmediterranean.com/", lat: 27.98164, lng: -82.82618 },
      { id: 18, num: 5, cat: "dining", name: "Clear Sky Cafe", addr: "490 Mandalay Ave", desc: "No-frills cafe near the beach with a seafood-focused menu and live music.", link: "https://clearskyrestaurants.com/cafe/", lat: 27.98202, lng: -82.82731 },

      // ATTRACTIONS
      { id: 3, num: 6, cat: "attract", name: "Clearwater Marine Aquarium", addr: "249 Windward Passage", desc: "Home of Winter the dolphin from Dolphin Tale. A rescue-focused aquarium with interactive exhibits, animal encounters, and boat tours.", link: "https://www.cmaquarium.org/", lat: 27.97697, lng: -82.81771 },
      { id: 4, num: 7, cat: "attract", name: "Pier 60 Clearwater", addr: "1 Causeway Blvd", desc: "Nightly sunset celebration with street performers, artisan vendors, and live music. Great for fishing and dolphin spotting.", link: "https://www.visitstpeteclearwater.com/profile/pier-60-clearwater-beach/139755", lat: 27.97722, lng: -82.82891 },

      // NATURE
      { id: 5, num: 8, cat: "nature", name: "North Clearwater Beach", addr: "704 Eldorado Ave", desc: "The quieter, less-crowded end of the beach. Perfect for shelling, peaceful walks, and nesting sea turtle season (May‚ÄìOctober).", link: null, lat: 27.98800, lng: -82.82900 },
      { id: 22, num: 9, cat: "nature", name: "Caladesi Island State Park", addr: "1 Causeway Blvd, Dunedin", desc: "Island park with white sand beaches plus swimming, boating, fishing, and picnic facilities. Accessible by ferry.", link: "https://www.floridastateparks.org/parks-and-trails/caladesi-island-state-park", lat: 28.02467, lng: -82.81964 },
      { id: 23, num: 10, cat: "nature", name: "Sand Key Park", addr: "1060 Gulf Blvd", desc: "Expansive white-sand beach with room for picnics, surfing, and other outdoor activities.", link: "https://pinellas.gov/parks/sand-key-park", lat: 27.95911, lng: -82.82771 },

      // NIGHTLIFE
      { id: 9, num: 11, cat: "nightlife", name: "Surfside Tap House", addr: "395 Mandalay Ave", desc: "Chill craft beer bar steps from the beach. Great local brews, live music on weekends, and a laid-back island vibe.", link: "https://surfsidetaphouse.com/", lat: 27.97842, lng: -82.82728 },
      { id: 13, num: 12, cat: "nightlife", name: "Coco's Crush Bar Original", addr: "317 Coronado Dr", desc: "Breezy outdoor tiki bar serving frozen drinks and beers, with live music and games.", link: "https://cocoscrushbar.com/og", lat: 27.97294, lng: -82.82829 },
      { id: 19, num: 13, cat: "nightlife", name: "The Shipwreck", addr: "647 Mandalay Ave", desc: "Colorful watering hole with a nautical vibe, nightly DJ music, happy hour, pool tables, and darts.", link: "http://theshipwreckclearwaterbeach.com/", lat: 27.98777, lng: -82.82647 },

      // SHOPPING
      { id: 6, num: 14, cat: "shopping", name: "Clearwater Beach Municipal Marina", addr: "25 Causeway Blvd", desc: "Hub for fishing charters, dolphin cruises, parasailing, and jet ski rentals. Book a sunset cruise for an evening on the water.", link: "https://www.myclearwater.com/government/city-departments/beach-marina", lat: 27.97679, lng: -82.82636 },
      { id: 7, num: 15, cat: "shopping", name: "Pelican Walk Plaza", addr: "483 Mandalay Ave", desc: "Stylish shopping center with boutiques for clothes and beachwear, plus bars and casual restaurants.", link: null, lat: 27.98150, lng: -82.82674 },

      // HOTELS
      { id: 14, num: 16, cat: "hotels", name: "Courtyard by Marriott", addr: "455 E Shore Dr", desc: "Water views in the heart of Clearwater Beach, right on Clearwater Bay with a marina. Modern rooms close to everything.", link: "https://www.marriott.com/en-us/hotels/tpach-courtyard-clearwater-beach/overview/", lat: 27.98020, lng: -82.82540 },
      { id: 15, num: 17, cat: "hotels", name: "AC Hotel Clearwater Beach", addr: "395 Coronado Dr", desc: "On Clearwater Beach Island overlooking the Gulf of Mexico. A 2-minute walk from the beach.", link: "https://www.marriott.com/en-us/hotels/tpaab-ac-hotel-clearwater-beach/overview/", lat: 27.97169, lng: -82.82843 },
      { id: 20, num: 18, cat: "hotels", name: "Fairfield by Marriott", addr: "650 Bay Esplanade", desc: "Gulf of Mexico views, 4-minute walk from the beach, and 2 miles from Clearwater Marine Aquarium.", link: "https://www.marriott.com/en-us/hotels/tpafw-fairfield-inn-and-suites-clearwater-beach/overview/", lat: 27.98808, lng: -82.82512 },

      // SERVICES
      { id: 10, num: 19, cat: "services", name: "Jeep Pickup ‚Äî Main Station", addr: "Clearwater Beach Main Lot", desc: "Pick up your complimentary electric Jeep here. Valid ID required. Vehicles must be returned by 8 PM. First come, first served.", link: null, lat: 27.97700, lng: -82.82400 },
      { id: 11, num: 20, cat: "services", name: "Jeep Pickup ‚Äî North Station", addr: "North Beach Parking Area", desc: "Secondary electric Jeep pickup at the north end. Convenient if you're starting your day at the quieter beaches.", link: null, lat: 27.98600, lng: -82.82750 },
      { id: 21, num: 21, cat: "services", name: "Little Toot Dolphin Adventure", addr: "25 Causeway Blvd, Slip 12", desc: "Unique and memorable dolphin sightseeing tours at affordable prices on the Original Little Toot and Little Toot II.", link: "https://www.littletoot.us/", lat: 27.97668, lng: -82.82679 },
      { id: 24, num: 22, cat: "services", name: "Clearwater Ferry", addr: "14 Drew St, Clearwater", desc: "Ferry route serving Clearwater and Dunedin with stops at Downtown Clearwater, Clearwater Beach Marina, and Dunedin Marina.", link: "https://www.clearwaterferry.com/", lat: 27.96596, lng: -82.80415 },
    ];

    const CATS = {
      dining: { label: "Dining", icon: "üçΩÔ∏è", color: "#e8473f" },
      attract: { label: "Attractions", icon: "üéØ", color: "#1aaa8e" },
      nature: { label: "Nature", icon: "üåø", color: "#3aaf5c" },
      nightlife: { label: "Nightlife", icon: "üé∂", color: "#5b3fa0" },
      shopping: { label: "Shopping", icon: "üõçÔ∏è", color: "#d4780c" },
      hotels: { label: "Hotels", icon: "üè®", color: "#0d7ec5" },
      services: { label: "Services", icon: "üîß", color: "#5e7c8b" },
    };

    // ‚îÄ‚îÄ MAP INIT ‚îÄ‚îÄ
    const map = L.map('map', {
      zoomControl: true,
      attributionControl: true,
    }).setView([27.982, -82.826], 14);

    L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {
      attribution: '&copy; OpenStreetMap contributors &copy; CARTO',
      maxZoom: 19,
    }).addTo(map);

    // ‚îÄ‚îÄ MARKERS ‚îÄ‚îÄ
    const markerMap = {};

    function makeIcon(poi) {
      const c = CATS[poi.cat].color;
      return L.divIcon({
        className: '',
        html: `
      <div style="
        background:${c};
        color:#fff;
        width:28px;height:28px;
        border-radius:50%;
        display:flex;align-items:center;justify-content:center;
        font-family:'Fredoka One',cursive;
        font-size:13px;
        border:2.5px solid #fff;
        box-shadow:0 2px 8px rgba(0,0,0,0.35);
        cursor:pointer;
        transition:transform 0.15s;
      ">${poi.num}</div>`,
        iconSize: [28, 28],
        iconAnchor: [14, 14],
        popupAnchor: [0, -16],
      });
    }

    function makePopup(poi) {
      const cat = CATS[poi.cat];
      const linkHtml = poi.link
        ? `<a href="${poi.link}" target="_blank" class="popup-link ${poi.cat}">üîó Visit Website</a>`
        : '';
      return `
    <div class="popup-inner">
      <div class="popup-head ${poi.cat}">
        <div class="pnum">${cat.icon} ${cat.label} ¬∑ #${poi.num}</div>
        <h3>${poi.name}</h3>
      </div>
      <div class="popup-body">
        <div style="font-size:10px;color:#888;margin-bottom:5px;">üìç ${poi.addr}</div>
        ${poi.desc}
        ${linkHtml ? `<br>${linkHtml}` : ''}
      </div>
    </div>`;
    }

    pois.forEach(poi => {
      const marker = L.marker([poi.lat, poi.lng], { icon: makeIcon(poi) })
        .addTo(map)
        .bindPopup(makePopup(poi), { className: 'custom-popup', maxWidth: 250 });
      markerMap[poi.num] = marker;
    });

    // ‚îÄ‚îÄ LEGEND BUILD ‚îÄ‚îÄ
    const catOrder = ['dining', 'attract', 'nature', 'nightlife', 'shopping', 'hotels', 'services'];
    const wideOnes = new Set(['dining', 'services']); // wider blocks span 2 cols

    const legendEl = document.getElementById('legendInner');

    catOrder.forEach(catKey => {
      const cat = CATS[catKey];
      const items = pois.filter(p => p.cat === catKey);
      const isWide = wideOnes.has(catKey);

      const block = document.createElement('div');
      block.className = `cat-block${isWide ? ' wide' : ''}`;

      const header = document.createElement('div');
      header.className = `cat-header ${catKey}`;
      header.innerHTML = `<span class="cat-icon">${cat.icon}</span> ${cat.label}`;
      block.appendChild(header);

      const ul = document.createElement('ul');
      ul.className = 'cat-list';

      items.forEach(poi => {
        const li = document.createElement('li');
        li.innerHTML = `
      <div class="num-badge ${catKey}">${poi.num}</div>
      <div>
        <div class="poi-name">${poi.name}</div>
        <div class="poi-addr">${poi.addr}</div>
      </div>`;
        li.addEventListener('click', () => {
          const m = markerMap[poi.num];
          map.flyTo([poi.lat, poi.lng], 16, { duration: 0.8 });
          setTimeout(() => m.openPopup(), 850);
        });
        ul.appendChild(li);
      });

      block.appendChild(ul);
      legendEl.appendChild(block);
    });
  </script>
</body>

</html>